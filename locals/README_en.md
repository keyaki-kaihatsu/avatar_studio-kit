<img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/title.png">
<br>

# KeyakiStudio Kit

[Japanese version here (日本語版はこちら)](../README.md)

This project provides tools for exporting 3D models and 3D scenes for use in **Keyaki Studio**.

_Please use the unitypackage below._
<br>
[Unity Package]
https://github.com/keyaki-kaihatsu/avatar_studio-kit/releases

<img src="https://skillicons.dev/icons?i=unity">

# Keyaki Studio

Keyaki Studio is an app for creating 3D animations with avatars. You can handle every step of animation production in the app, including character acting, 3D stage editing, and filming.
<br>

**App Store**
<img src="https://skillicons.dev/icons?i=apple">
<br>
https://apps.apple.com/app/keyaki-studio/id6447358128

**Google Play**
<img src="https://skillicons.dev/icons?i=androidstudio">
<br>
https://play.google.com/store/apps/details?id=com.keyakikaihatsu.keyakistudio

**Windows & Mac**
<img src="https://skillicons.dev/icons?i=windows,apple">
<br>
[English Version]
https://keyaki-kaihatsu.booth.pm/items/5428965
<br>
[Japanese Version]
https://keyaki-kaihatsu.booth.pm/items/5381402

# Overview

This project lets you import Unity prefabs into Keyaki Studio by using Unity's AssetBundle feature.

# Environment

**Unity**

```bash
 Version   >>>  Unity 6000.0.58f2
 Platform  >>>  iOS, Android, Windows, macOS
 Pipeline  >>> Universal Render Pipeline (URP)
```

**VRM**

Converting VRM files (avatar files) to AssetBundles improves performance compared to using VRM files directly. To do this, import the **VRM1.0** unitypackage.
<br>
https://github.com/vrm-c/UniVRM/releases

# How to Use

1. Create a new Unity project and import the unitypackage.

2. In the Project window, right-click any prefab and select "KeyakiStudio > Asset Build (From Prefab)" from the menu.

<img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/feature-08.png">
<br>
・ Asset Build (From Prefab)
<br>
<small>
    ∟ Converts the prefab into an AssetBundle. Copy the entire output folder to the app's assets folder.
</small>
<br>
<br>
・ Avatar Asset Build (From VRM)
<br>
<small>
    ∟ Converts a VRM file into an AssetBundle. Copy the output folder to the app's vrm_files folder.
    <br>
    ∟ Use this if loading VRoidHub or VRM files is slow.
</small>
<br>
<br>
・ Animation Asset Build (From VRM Prefab + Animation)
<br>
<small>
    ∟ Converts a VRM prefab with animation into an AssetBundle. Copy the output folder to the app's animations folder.
    <br>
    ∟ Use this if loading animation files (FBX/GLB) is slow.
    <br>
    ∟ Set your desired animation as the default in the Animator's AnimationController, and set the "MotionTime" parameter for motion time.
</small>
<br>
<br>
<img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/feature-07.png">
<br>
・ Convert Animation (From .txt)
<br>
<small>
    ∟ This does not create an AssetBundle. It converts trace files (.txt) generated by the app into AnimationClips.
    <br>
    ∟ In the app: Go to Edit screen > Avatar panel > Export AnimationClip data, then long-press the trace button to generate a trace file. This can be output as an AnimationClip and Animation.Controller.
</small>
<br>
<br>
<br>
3. Fill in the dialog as needed. If you don't need to change any settings, just press the "Build" button.
<br>
<br>
<div style="display: flex; justify-content: center;">
  <img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/feature-12.png" style="display: block; width: 40%;">
</div>
<br>
・ Enter the build output destination.
<br>
・ Enter the asset name (optional).
<br>
・ Select the target device OS (optional).
<br>
・ Enable ZIP compression if needed. Be sure to extract the ZIP on the target device (optional).
<br>

## Upload

### Copy to Folder

After building, the output will be in the folder you specified in step #1 of the dialog.
<br>
Send the entire output folder to a device with Keyaki Studio installed (using AirDrop, Google Drive, etc).
<br>
Copy the folder to the "Keyaki Studio > assets" folder.
<br>
Reference → <a href="https://keyaki-kaihatsu.fanbox.cc/posts/7841803" target="_blank">https://keyaki-kaihatsu.fanbox.cc/posts/7841803</a>
<br>
<br>

### Use MyAssets

MyAssets is a website for downloading assets to the app via the cloud. Log in to the MyAssets site, get your access code (\*1), and enter it in the app.
<br>

<div style="display: flex; justify-content: center;">
  <img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/feature-10.png" style="display: block; width: 40%;">
</div>
<br>
(*1) Issue an access code like "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXX" from the MyAssets screen.
<br>
MyAssets → <a href="https://keyaki-studio.onrender.com/" target="_blank">https://keyaki-studio.onrender.com/</a>
<br>
<div style="border: 1px solid #ccc; border-radius: 12px; overflow: hidden; display: inline-block; padding: 12px 0px;">
  <img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/feature-11.png" style="display: block; border-radius: 12px;">
</div>
<br>
<br>

# Notes

- Scripts and shaders cannot be built as AssetBundles.
- Asset names must be unique.

<br>

# KEYAKI STUDIO - My Assets

KEYAKI STUDIO MyAssets is a convenient website for importing 3D content built on PC into the iPhone/Android app. You can use this site to transfer 3D content from your PC to the app.
<br>
<br>
<img src="https://avatar-studio.s3.ap-northeast-1.amazonaws.com/avatar_studio-kit/readme/feature-09.png">
<br>
How to access the site:
<br>
On the app's TOP screen, open the My Assets list and press the "My Page" button.

# Author

- Yuta Ueda / Keyaki Development
- https://twitter.com/keyaki_kaihatsu

# License

"KeyakiStudio Kit" is under the [MIT license](https://en.wikipedia.org/wiki/MIT_License).
